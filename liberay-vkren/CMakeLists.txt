cmake_minimum_required(VERSION 3.30)

include(../cmake/configure_library.cmake)

option(BUILD_SHARED_LIBS "Build as shared library" OFF)

if (NOT SLANGC_EXECUTABLE)
    find_program(SLANGC_EXECUTABLE "slangc")
endif()
find_package(Vulkan REQUIRED)

if (NOT Vulkan_FOUND) 
    message(FATAL_ERROR "Vulkan could not be found")
endif()
message(STATUS "Vulkan Directory: ${Vulkan_INCLUDE_DIR}")

configure_library(
    NAME liberay-vkren
    DEPS_PUBLIC liberay-util liberay-math liberay-res
    COMPILE_DEFINITIONS
      VULKAN_HPP_NO_EXCEPTIONS
      VULKAN_HPP_NO_STRUCT_CONSTRUCTORS
      VULKAN_HPP_DISPATCH_LOADER_DYNAMIC=1
)
